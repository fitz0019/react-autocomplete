!function(g,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],factory):g.ReactAutocomplete=factory(g.React,g.ReactDOM)}(this,function(dep0,dep1){return function(require){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("react"),_require=require("react-dom"),findDOMNode=_require.findDOMNode,scrollIntoView=require("dom-scroll-into-view"),_debugStates=[],Autocomplete=React.createClass({displayName:"Autocomplete",propTypes:{items:React.PropTypes.array.isRequired,value:React.PropTypes.any,onChange:React.PropTypes.func,onSelect:React.PropTypes.func,shouldItemRender:React.PropTypes.func,sortItems:React.PropTypes.func,getItemValue:React.PropTypes.func.isRequired,renderItem:React.PropTypes.func.isRequired,renderMenu:React.PropTypes.func,menuStyle:React.PropTypes.object,inputProps:React.PropTypes.object,wrapperProps:React.PropTypes.object,wrapperStyle:React.PropTypes.object,autoHighlight:React.PropTypes.bool,onMenuVisibilityChange:React.PropTypes.func,open:React.PropTypes.bool,debug:React.PropTypes.bool},getDefaultProps:function(){return{value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(items,value,style){return React.createElement("div",{style:_extends({},style,this.menuStyle),children:items})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}}},getInitialState:function(){return{isOpen:!1,highlightedIndex:null}},componentWillMount:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1},componentWillReceiveProps:function(nextProps){this._performAutoCompleteOnUpdate=!0,(this.props.items!==nextProps.items||this.state.highlightedIndex>=nextProps.items.length)&&this.setState({highlightedIndex:null})},componentDidUpdate:function(prevProps,prevState){this.state.isOpen===!0&&prevState.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),prevState.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)},maybeScrollItemIntoView:function(){if(this.state.isOpen===!0&&null!==this.state.highlightedIndex){var itemNode=this.refs["item-"+this.state.highlightedIndex],menuNode=this.refs.menu;scrollIntoView(findDOMNode(itemNode),findDOMNode(menuNode),{onlyScrollIfNeeded:!0})}},handleKeyDown:function(event){this.keyDownHandlers[event.key]?this.keyDownHandlers[event.key].call(this,event):this.setState({highlightedIndex:null,isOpen:!0})},handleChange:function(event){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(event,event.target.value)},handleKeyUp:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())},keyDownHandlers:{ArrowDown:function(event){event.preventDefault();var itemsLength=this.getFilteredItems().length;if(itemsLength){var highlightedIndex=this.state.highlightedIndex,index=null===highlightedIndex||highlightedIndex===itemsLength-1?0:highlightedIndex+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:index,isOpen:!0})}},ArrowUp:function(event){event.preventDefault();var itemsLength=this.getFilteredItems().length;if(itemsLength){var highlightedIndex=this.state.highlightedIndex,index=0===highlightedIndex||null===highlightedIndex?itemsLength-1:highlightedIndex-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:index,isOpen:!0})}},Enter:function(event){var _this=this;if(this.state.isOpen!==!1)if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){_this.refs.input.select()});else{event.preventDefault();var item=this.getFilteredItems()[this.state.highlightedIndex],value=this.props.getItemValue(item);this.setState({isOpen:!1,highlightedIndex:null},function(){_this.refs.input.setSelectionRange(value.length,value.length),_this.props.onSelect(value,item)})}},Escape:function(event){this.setState({highlightedIndex:null,isOpen:!1})}},getFilteredItems:function(){var _this2=this,items=this.props.items;return this.props.shouldItemRender&&(items=items.filter(function(item){return _this2.props.shouldItemRender(item,_this2.props.value)})),this.props.sortItems&&items.sort(function(a,b){return _this2.props.sortItems(a,b,_this2.props.value)}),items},maybeAutoCompleteText:function(){if(this.props.autoHighlight&&""!==this.props.value){var highlightedIndex=this.state.highlightedIndex,items=this.getFilteredItems();if(0!==items.length){var matchedItem=null!==highlightedIndex?items[highlightedIndex]:items[0],itemValue=this.props.getItemValue(matchedItem),itemValueDoesMatch=0===itemValue.toLowerCase().indexOf(this.props.value.toLowerCase());itemValueDoesMatch&&null===highlightedIndex&&this.setState({highlightedIndex:0})}}},setMenuPositions:function(){var node=this.refs.input,rect=node.getBoundingClientRect(),computedStyle=global.window.getComputedStyle(node),marginBottom=parseInt(computedStyle.marginBottom,10)||0,marginLeft=parseInt(computedStyle.marginLeft,10)||0,marginRight=parseInt(computedStyle.marginRight,10)||0;this.setState({menuTop:rect.bottom+marginBottom,menuLeft:rect.left+marginLeft,menuWidth:rect.width+marginLeft+marginRight})},highlightItemFromMouse:function(index){this.setState({highlightedIndex:index})},selectItemFromMouse:function(item){var _this3=this,value=this.props.getItemValue(item);this.setState({isOpen:!1,highlightedIndex:null},function(){_this3.props.onSelect(value,item),_this3.refs.input.focus()})},setIgnoreBlur:function(ignore){this._ignoreBlur=ignore},renderMenu:function(){var _this4=this,items=this.getFilteredItems().map(function(item,index){var element=_this4.props.renderItem(item,_this4.state.highlightedIndex===index,{cursor:"default"});return React.cloneElement(element,{onMouseDown:function(){return _this4.setIgnoreBlur(!0)},onMouseEnter:function(){return _this4.highlightItemFromMouse(index)},onClick:function(){return _this4.selectItemFromMouse(item)},ref:"item-"+index})}),style={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},menu=this.props.renderMenu(items,this.props.value,style);return React.cloneElement(menu,{ref:"menu",onMouseEnter:function(){return _this4.setIgnoreBlur(!0)},onMouseLeave:function(){return _this4.setIgnoreBlur(!1)}})},handleInputBlur:function(){this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})},handleInputFocus:function(){return this._ignoreBlur?void this.setIgnoreBlur(!1):(this._ignoreClick=!0,void this.setState({isOpen:!0}))},isInputFocused:function(){var el=this.refs.input;return el.ownerDocument&&el===el.ownerDocument.activeElement},handleInputClick:function(){this.isInputFocused()&&this.state.isOpen===!1?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1},composeEventHandlers:function(internal,external){return external?function(e){internal(e),external(e)}:internal},render:function(){this.props.debug&&_debugStates.push({id:_debugStates.length,state:this.state});var inputProps=this.props.inputProps;return React.createElement("div",_extends({style:_extends({},this.props.wrapperStyle)},this.props.wrapperProps),React.createElement("input",_extends({},inputProps,{role:"combobox","aria-autocomplete":"list",autoComplete:"off",ref:"input",onFocus:this.composeEventHandlers(this.handleInputFocus,inputProps.onFocus),onBlur:this.composeEventHandlers(this.handleInputBlur,inputProps.onBlur),onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,inputProps.onKeyDown),onKeyUp:this.composeEventHandlers(this.handleKeyUp,inputProps.onKeyUp),onClick:this.composeEventHandlers(this.handleInputClick,inputProps.onClick),value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&React.createElement("pre",{style:{marginLeft:300}},JSON.stringify(_debugStates.slice(_debugStates.length-5,_debugStates.length),null,2)))}});module.exports=Autocomplete}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"dom-scroll-into-view":2,react:"react","react-dom":"react-dom"}],2:[function(require,module,exports){module.exports=require("./lib/dom-scroll-into-view")},{"./lib/dom-scroll-into-view":3}],3:[function(require,module,exports){function scrollIntoView(elem,container,config){config=config||{},9===container.nodeType&&(container=util.getWindow(container));var allowHorizontalScroll=config.allowHorizontalScroll,onlyScrollIfNeeded=config.onlyScrollIfNeeded,alignWithTop=config.alignWithTop,alignWithLeft=config.alignWithLeft;allowHorizontalScroll=void 0===allowHorizontalScroll||allowHorizontalScroll;var containerOffset,ch,cw,containerScroll,diffTop,diffBottom,win,winScroll,ww,wh,isWin=util.isWindow(container),elemOffset=util.offset(elem),eh=util.outerHeight(elem),ew=util.outerWidth(elem);isWin?(win=container,wh=util.height(win),ww=util.width(win),winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)},diffTop={left:elemOffset.left-winScroll.left,top:elemOffset.top-winScroll.top},diffBottom={left:elemOffset.left+ew-(winScroll.left+ww),top:elemOffset.top+eh-(winScroll.top+wh)},containerScroll=winScroll):(containerOffset=util.offset(container),ch=container.clientHeight,cw=container.clientWidth,containerScroll={left:container.scrollLeft,top:container.scrollTop},diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,"borderLeftWidth"))||0)),top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,"borderTopWidth"))||0))},diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,"borderRightWidth"))||0)),top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,"borderBottomWidth"))||0))}),diffTop.top<0||diffBottom.top>0?alignWithTop===!0?util.scrollTop(container,containerScroll.top+diffTop.top):alignWithTop===!1?util.scrollTop(container,containerScroll.top+diffBottom.top):diffTop.top<0?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top):onlyScrollIfNeeded||(alignWithTop=void 0===alignWithTop||!!alignWithTop,alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top)),allowHorizontalScroll&&(diffTop.left<0||diffBottom.left>0?alignWithLeft===!0?util.scrollLeft(container,containerScroll.left+diffTop.left):alignWithLeft===!1?util.scrollLeft(container,containerScroll.left+diffBottom.left):diffTop.left<0?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left):onlyScrollIfNeeded||(alignWithLeft=void 0===alignWithLeft||!!alignWithLeft,alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left)))}var util=require("./util");module.exports=scrollIntoView},{"./util":4}],4:[function(require,module,exports){function getClientPosition(elem){var box,x,y,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;return box=elem.getBoundingClientRect(),x=box.left,y=box.top,x-=docElem.clientLeft||body.clientLeft||0,y-=docElem.clientTop||body.clientTop||0,{left:x,top:y}}function getScroll(w,top){var ret=w["page"+(top?"Y":"X")+"Offset"],method="scroll"+(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;ret=d.documentElement[method],"number"!=typeof ret&&(ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=getClientPosition(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}function _getComputedStyle(elem,name,computedStyle){var val="",d=elem.ownerDocument;return(computedStyle=computedStyle||d.defaultView.getComputedStyle(elem,null))&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}function _getComputedStyleIE(elem,name){var ret=elem[CURRENT_STYLE]&&elem[CURRENT_STYLE][name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style,left=style[LEFT],rsLeft=elem[RUNTIME_STYLE][LEFT];elem[RUNTIME_STYLE][LEFT]=elem[CURRENT_STYLE][LEFT],style[LEFT]="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+PX,style[LEFT]=left,elem[RUNTIME_STYLE][LEFT]=rsLeft}return""===ret?"auto":ret}function setOffset(elem,offset){"static"===css(elem,"position")&&(elem.style.position="relative");var current,key,old=getOffset(elem),ret={};for(key in offset)current=parseFloat(css(elem,key))||0,ret[key]=current+offset[key]-old[key];css(elem,ret)}function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}function swap(elem,options,callback){var name,old={},style=elem.style;for(name in options)old[name]=style[name],style[name]=options[name];callback.call(elem);for(name in options)style[name]=old[name]}function getPBMWidth(elem,props,which){var prop,j,i,value=0;for(j=0;j<props.length;j++)if(prop=props[j])for(i=0;i<which.length;i++){var cssProp;cssProp="border"===prop?prop+which[i]+"Width":prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}function isWindow(obj){return null!=obj&&obj==obj.window}function getWH(elem,name,extra){if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.offsetWidth:elem.offsetHeight,computedStyle=getComputedStyleX(elem),isBorderBox=isBorderBoxFn(elem,computedStyle),cssBoxValue=0;(null==borderBoxValue||borderBoxValue<=0)&&(borderBoxValue=void 0,cssBoxValue=getComputedStyleX(elem,name),(null==cssBoxValue||Number(cssBoxValue)<0)&&(cssBoxValue=elem.style[name]||0),cssBoxValue=parseFloat(cssBoxValue)||0),void 0===extra&&(extra=isBorderBox?BORDER_INDEX:CONTENT_INDEX);var borderBoxValueOrIsBorderBox=void 0!==borderBoxValue||isBorderBox,val=borderBoxValue||cssBoxValue;return extra===CONTENT_INDEX?borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which,computedStyle):cssBoxValue:borderBoxValueOrIsBorderBox?val+(extra===BORDER_INDEX?0:extra===PADDING_INDEX?-getPBMWidth(elem,["border"],which,computedStyle):getPBMWidth(elem,["margin"],which,computedStyle)):cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which,computedStyle)}function getWHIgnoreDisplay(elem){var val,args=arguments;return 0!==elem.offsetWidth?val=getWH.apply(void 0,args):swap(elem,cssShow,function(){val=getWH.apply(void 0,args)}),val}function css(el,name,value){if("object"!=typeof name)return"undefined"==typeof value?getComputedStyleX(el,name):("number"==typeof value&&(value+="px"),void(el.style[name]=value));for(var i in name)css(el,i,name[i])}function mix(to,from){for(var i in from)to[i]=from[i];return to}var getComputedStyleX,RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,_RE_NUM_NO_PX=new RegExp("^("+RE_NUM+")(?!px)[a-z%]+$","i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";"undefined"!=typeof window&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0,domUtils={};each(["Width","Height"],function(name){domUtils["doc"+name]=function(refWin){var d=refWin.document;return Math.max(d.documentElement["scroll"+name],d.body["scroll"+name],domUtils["viewport"+name](d))},domUtils["viewport"+name]=function(win){var prop="client"+name,doc=win.document,body=doc.body,documentElement=doc.documentElement,documentElementProp=documentElement[prop];return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}});var cssShow={position:"absolute",visibility:"hidden",display:"block"};each(["width","height"],function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer"+first]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?MARGIN_INDEX:BORDER_INDEX)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,val){if(void 0===val)return elem&&getWHIgnoreDisplay(elem,name,CONTENT_INDEX);if(elem){var computedStyle=getComputedStyleX(elem),isBorderBox=isBorderBoxFn(elem);return isBorderBox&&(val+=getPBMWidth(elem,["padding","border"],which,computedStyle)),css(elem,name,val)}}});var utils=module.exports={getWindow:function(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},offset:function(el,value){return"undefined"==typeof value?getOffset(el):void setOffset(el,value)},isWindow:isWindow,each:each,css:css,clone:function(obj){var ret={};for(var i in obj)ret[i]=obj[i];var overflow=obj.overflow;if(overflow)for(i in obj)ret.overflow[i]=obj.overflow[i];return ret},mix:mix,scrollLeft:function(w,v){if(isWindow(w)){if(void 0===v)return getScrollLeft(w);window.scrollTo(v,getScrollTop(w))}else{if(void 0===v)return w.scrollLeft;w.scrollLeft=v}},scrollTop:function(w,v){if(isWindow(w)){if(void 0===v)return getScrollTop(w);window.scrollTo(getScrollLeft(w),v)}else{if(void 0===v)return w.scrollTop;w.scrollTop=v}},merge:function(){for(var ret={},i=0;i<arguments.length;i++)utils.mix(ret,arguments[i]);return ret},viewportWidth:0,viewportHeight:0};mix(utils,domUtils)},{}]},{},[1])(1)}(function(name){if("react"===name)return dep0;if("react-dom"===name)return dep1;if("undefined"!=typeof require)return require(name);var err=new Error("Cannot find module '"+name+"'");throw err.code="MODULE_NOT_FOUND",err})});
//# sourceMappingURL=react-autocomplete.min.js.map
